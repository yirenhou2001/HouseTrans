% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-bayesian.R
\name{prepare_stan_data}
\alias{prepare_stan_data}
\title{Prepare Stan data from diagnostic testing records}
\usage{
prepare_stan_data(
  raw_data,
  seasonal_forcing_list = NULL,
  viral_testing_mode = "viral load",
  T_max = 365,
  V_ref = 3,
  V_rho = 2.5,
  peak_day = 2,
  width = 4,
  alpha_comm_by_role = 0.005,
  reference_phi = 1,
  reference_kappa = 1
)
}
\arguments{
\item{raw_data}{Data frame with columns \code{hh_id}, \code{person_id}, \code{role},
\code{day_index}, \code{test_result}, and optionally \code{pcr_sample}.}

\item{seasonal_forcing_list}{Named list with seasonal forcing vectors by role.}

\item{viral_testing_mode}{Character; \code{"viral load"} or \code{"Ct"}.}

\item{T_max}{Integer; maximum time horizon (days).}

\item{V_ref, V_rho}{Numeric; viral load transmission parameters.}

\item{peak_day, width}{Numeric; infectivity profile parameters.}

\item{alpha_comm_by_role}{Numeric; community acquisition rate.}

\item{reference_phi, reference_kappa}{Numeric; reference parameters.}
}
\value{
Named list suitable for Stan.
}
\description{
Converts raw diagnostic testing data into Stan-ready format with the
\code{time_since_infection} matrix for soft-gate latent period modeling.
}
