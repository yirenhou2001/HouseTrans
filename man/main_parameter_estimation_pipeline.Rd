% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main-pipeline.R
\name{main_parameter_estimation_pipeline}
\alias{main_parameter_estimation_pipeline}
\title{Main parameter estimation pipeline}
\usage{
main_parameter_estimation_pipeline(
  user_data = NULL,
  synthetic_data = TRUE,
  n_households = 10,
  start_date = as.Date("2024-01-01"),
  end_date = as.Date("2024-12-31"),
  seasonal_forcing_list = NULL,
  max_days = 365,
  alpha_comm_by_role = 0.005,
  beta1 = 0.3,
  beta2 = 0.05,
  delta = 0,
  phi_by_role = c(adult = 1, child = 7, toddler = 7, elderly = 4),
  kappa_by_role = c(adult = 1, child = 1.5, toddler = 1.5, elderly = 1),
  latent_shape = 3,
  latent_scale = 0.5,
  infectious_shape = 3,
  infectious_scale = 1,
  resolve_shape = 1.5,
  resolve_scale = 0.5,
  peak_day = 1,
  width = 4,
  ptrans_threshold = 0.5,
  detect_threshold_log10 = 1,
  detect_threshold_Ct = 40,
  surveillance_interval = 7,
  test_daily = FALSE,
  viral_testing = "viral load",
  V_ref = 3,
  V_rho = 2.5,
  Ct_50 = 40,
  Ct_delta = 2,
  VL_params_list = default_VL_params,
  Ct_params_list = default_Ct_params,
  household_profile_list = default_household_profile,
  stan_file = "model.stan",
  stan_chains = 4,
  stan_iter = 2000,
  stan_warmup = 1000,
  stan_control = list(adapt_delta = 0.99, max_treedepth = 20),
  stan_init = "random",
  stan_refresh = 50,
  stan_cores = 4
)
}
\arguments{
\item{user_data}{Optional; data.frame or list of data.frames.}

\item{synthetic_data}{Logical; if \code{TRUE}, simulate data internally.}

\item{n_households}{Integer; number of households to simulate.}

\item{start_date, end_date}{\code{Date}; analysis window.}

\item{seasonal_forcing_list}{Optional named list for seasonality.}

\item{max_days}{Integer; maximum days.}

\item{alpha_comm_by_role}{Numeric; community acquisition rate.}

\item{beta1, beta2}{Numeric; transmission coefficients.}

\item{delta}{Numeric; household size scaling.}

\item{phi_by_role, kappa_by_role}{Named numeric vectors.}

\item{latent_shape, latent_scale}{Numeric; latent period parameters.}

\item{infectious_shape, infectious_scale}{Numeric; infectious period parameters.}

\item{resolve_shape, resolve_scale}{Numeric; resolution period parameters.}

\item{peak_day, width}{Numeric; infectivity profile.}

\item{ptrans_threshold, detect_threshold_log10, detect_threshold_Ct}{Numeric; testing thresholds.}

\item{surveillance_interval}{Integer; days between tests.}

\item{test_daily}{Logical; daily testing after detection.}

\item{viral_testing}{Character; \code{"viral load"} or \code{"Ct"}.}

\item{V_ref, V_rho}{Numeric; viral load parameters.}

\item{Ct_50, Ct_delta}{Numeric; Ct parameters.}

\item{VL_params_list, Ct_params_list, household_profile_list}{Named lists.}

\item{stan_file}{Path to Stan model file.}

\item{stan_chains, stan_iter, stan_warmup}{Integers; Stan sampling controls.}

\item{stan_control}{List; Stan \code{control} list.}

\item{stan_init}{Character or function; Stan initialization.}

\item{stan_refresh}{Integer; Stan refresh.}

\item{stan_cores}{Integer; CPU cores for Stan.}
}
\value{
A list with \code{raw_simulation}, \code{stan_data}, \code{fit},
\code{posterior_summary}, and \code{diagnostic_df}.
}
\description{
End-to-end workflow for household transmission estimation via Bayesian Stan.
Works with simulated or user-provided data.
}
\seealso{
\code{\link{GenSyn}}
}
