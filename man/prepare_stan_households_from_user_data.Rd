% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-bayesian.R
\name{prepare_stan_households_from_user_data}
\alias{prepare_stan_households_from_user_data}
\title{Prepare per-household inputs for the Stan RSV/VL model}
\usage{
prepare_stan_households_from_user_data(
  user_data,
  role_levels = c("adult", "child", "elderly", "toddler"),
  vl_mode = c("from_long", "auto"),
  vl_source = c("none", "column", "simulate"),
  vl_column = NULL,
  start_date = NULL,
  end_date = NULL
)
}
\arguments{
\item{user_data}{Either:
\itemize{
\item \emph{Long format:} columns \code{HH}, \code{individual_ID},
\code{role}, \code{test_date}, \code{infection_status}
(optionally a VL column); or
\item \emph{Per-person format:} columns \code{hh_id}, \code{person_id},
\code{role}, \code{infection_time}, \code{infectious_start},
\code{infectious_end} (optionally \code{vl_full_trajectory}).
}}

\item{role_levels}{Character vector of allowed roles after normalization.}

\item{vl_mode}{Character; currently used only to trigger trajectory building.}

\item{vl_source}{Character; one of \code{"none"}, \code{"column"}, \code{"simulate"}.}

\item{vl_column}{Optional name of the VL column when \code{vl_source = "column"}.}

\item{start_date, end_date}{Optional \code{Date} bounds.}
}
\value{
A named list of data frames (one per household).
}
\description{
Converts user data to a list of per-household data frames required by the
Stan RSV/VL pipeline. Accepts either a long test-day table or a per-person
episodes table.
}
